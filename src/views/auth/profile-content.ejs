<section class="app-hero">
  <p class="eyebrow">Account</p>
  <h2 class="page-title">Profile Settings</h2>
  <p class="page-subtitle">Manage your username, password, and display preferences.</p>
</section>

<div class="profile-sections">
  <section class="card">
    <h3 class="card-title">Username</h3>
    <% if (usernameError) { %>
      <div class="alert alert-error"><%= usernameError %></div>
    <% } %>
    <% if (usernameSuccess) { %>
      <div class="alert alert-success"><%= usernameSuccess %></div>
    <% } %>
    <form method="post" action="/profile/username" class="form">
      <input type="hidden" name="_csrf" value="<%= csrfToken %>">
      <label>
        Username
        <input type="text" name="username" required minlength="3" value="<%= usernameValue %>">
      </label>
      <div class="form-actions">
        <button class="btn" type="submit">Save Username</button>
      </div>
    </form>
  </section>

  <section class="card">
    <h3 class="card-title">Password</h3>
    <% if (passwordError) { %>
      <div class="alert alert-error"><%= passwordError %></div>
    <% } %>
    <% if (passwordSuccess) { %>
      <div class="alert alert-success"><%= passwordSuccess %></div>
    <% } %>
    <form method="post" action="/profile/password" class="form">
      <input type="hidden" name="_csrf" value="<%= csrfToken %>">
      <label>
        Current Password
        <input type="password" name="current_password" required>
      </label>
      <label>
        New Password (minimum 12 characters)
        <input type="password" name="new_password" required minlength="12">
      </label>
      <label>
        Confirm New Password
        <input type="password" name="confirm_password" required minlength="12">
      </label>
      <div class="form-actions">
        <button class="btn" type="submit">Save Password</button>
      </div>
    </form>
  </section>

  <section class="card">
    <h3 class="card-title">Display Preferences</h3>
    <% if (preferencesError) { %>
      <div class="alert alert-error"><%= preferencesError %></div>
    <% } %>
    <% if (preferencesSuccess) { %>
      <div class="alert alert-success"><%= preferencesSuccess %></div>
    <% } %>
    <form method="post" action="/profile/preferences" class="form">
      <input type="hidden" name="_csrf" value="<%= csrfToken %>">
      <label>
        Theme
        <select name="theme" required>
          <option value="dark" <%= themeValue === 'dark' ? 'selected' : '' %>>Dark</option>
          <option value="light" <%= themeValue === 'light' ? 'selected' : '' %>>Light</option>
        </select>
      </label>
      <div class="form-actions">
        <button class="btn" type="submit">Save Preferences</button>
      </div>
    </form>
  </section>
</div>
