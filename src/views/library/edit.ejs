<%- include('../partials/layout-header') %>
<h2>Edit Item</h2>
<% if (typeof error !== 'undefined' && error) { %>
  <div class="error-message" style="background-color: #fee; border: 1px solid #fcc; padding: 1rem; margin-bottom: 1rem; border-radius: 4px; color: #c00;">
    <strong>Validation Error:</strong> <%= error %>
  </div>
<% } %>
<form method="post" action="/library/<%= item.id %>?_method=PUT" class="form grid">
  <input type="hidden" name="_csrf" value="<%= csrfToken %>">
  <%- include('./_form', { item }) %>
  <div class="form-actions">
    <a class="btn btn-secondary" href="/library/<%= item.id %>">Cancel</a>
    <button class="btn" type="submit">Save</button>
  </div>
</form>
<%- include('../partials/layout-footer') %>

